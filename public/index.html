<!DOCTYPE html>
<html lang="ha">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>comixapi viewer</title>
    <link rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.min.css">

    <style>
        #loading {
            background: rgba(0, 0, 0, .5);
            z-index: 10000;
        }
    </style>

  </head>
  <body>

    <div class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark">
        <div class="container">
            <a href="#comics" class="navbar-brand">Comixapi Viewer</a>
        </div>
    </div>
    
    <div id="loading" class="top-0 start-0 w-100 h-100" style="position: fixed;">
        <div class="text-center position-absolute top-50 start-50 w-100 translate-middle">
            <div class="spinner-border text-light" role="status">
                <span class="sr-only"></span>
            </div>
        </div>
    </div>

    <div class="container" style="margin-top: 100px;" id="container">
    </div>

    <script id="comics-template" type="text/x-handlebars-template">
        <div class="row row-cols-3">
            {{#each data}}
            <div data-comic="{{this}}" class="col comic-item" style="padding: 10px;cursor: pointer;">
                <a><img class="img-thumbnail" src="./{{this}}/thumbnail.jpg"></a>
            </div>
            {{/each}}
        </div>
    </script>

    <script id="voluems-template" type="text/x-handlebars-template">
        <div class="row row-cols-3">
            {{#each data}}
            <div data-pages='{{stringify pages}}' data-base="{{target}}/{{key}}" class="col volume-item" style="position: relative; padding: 10px;cursor: pointer;">
                <span class="badge bg-primary" style="position: absolute;left: 30px;top: 30px;">{{basename key}}</span>
                <a><img class="img-thumbnail" src="./{{target}}/{{key}}/{{first pages}}"></a>
            </div>
            {{/each}}
        </div>
    </script>

    <script id="volume-template" type="text/x-handlebars-template">
        <div style="text-align: center;">
        {{#each data}}
        <div style="padding: 5px;">
            <img class="img-thumbnail" loading="lazy" src="{{this}}"></a>
        </div>
        {{/each}}
        </div>
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.8/handlebars.min.js" integrity="sha512-E1dSFxg+wsfJ4HKjutk/WaCzK7S2wv1POn1RRPGh8ZK+ag9l244Vqxji3r6wgz9YBf6+vhQEYJZpSjqWFPg9gg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="application.js"></script>
  </body>
</html>
